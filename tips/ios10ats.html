<!DOCTYPE HTML>
<html lang="ja">
	<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<meta charset="utf-8" />
		<title>お菓子検索アプリ：iOS10でのATS設定について｜これからつくる iPhoneアプリ開発入門（Swift）</title>
		<meta name="description" content="Swift言語での初心者向けiPhoneアプリ開発の書籍「これからつくる iPhoneアプリ開発入門 ～Swiftではじめるプログラミングの第一歩～」のお菓子検索アプリ：iOS10でのATS設定について解説しています。">
		<meta name="keywords" content="iPhone,Swift,iOS,アプリ開発,初心者,書籍,本">
		<link rel="canonical" href="https://swiftbg.github.io/swiftbook/tips/ios10ats.html">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- OGP -->
		<meta property="og:title" content="お菓子検索アプリ：iOS10でのATS設定について｜これからつくる iPhoneアプリ開発入門（Swift）" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://swiftbg.github.io/swiftbook/tips/ios10ats.html" />
		<meta property="og:image" content="https://swiftbg.github.io/swiftbook/images/OGP.png" />
		<meta property="og:site_name" content="これからつくる iPhoneアプリ開発入門 Swiftではじめるプログラミングの第一歩 公式サポートサイト" />
		<meta property="og:description" content="Swift言語での初心者向けiPhoneアプリ開発の書籍「これからつくる iPhoneアプリ開発入門 ～Swiftではじめるプログラミングの第一歩～」のお菓子検索アプリ：iOS10でのATS設定について解説しています。" />
		<meta property="fb:app_id" content="1615427068757376" />
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@swift_bg">
		<!--[if lte IE 8]><script src="/swiftbook/assets/js/ie/html5shiv.js"></script><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="/swiftbook/assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="/swiftbook/assets/css/ie8.css" /><![endif]-->
		<link rel="shortcut icon" href="/swiftbook/images/bookicon.png">
		<link rel="stylesheet" href="/swiftbook/assets/css/main.css" />
		<script>
		//<![CDATA[
		var url = "/swiftbook/assets/css/main_add.css?" + new Date().getTime();
		document.writeln('<link rel="stylesheet" href="' + url + '" />');
		//]]
		</script>
	</head>
	<body class="article">
		<!-- Wrapper -->
		<div id="wrapper">
				<!-- Header -->
					<header id="header">
						<div class="inner">
							<!-- Logo -->
							<a href="https://swiftbg.github.io/swiftbook/" class="logo">
								<span class="symbol"><img src="/swiftbook/images/bookicon.png" alt="Swift_original_logo" width="32px" /></span><h1 class="title">iOSアプリを作ってみたい、すべての初心者が体験しながら学べる入門書</h1>
							</a>
							
							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">メニュー</a></li>
									</ul>
								</nav>

						</div>
					</header>

			<!-- Menu -->
				<nav id="menu">
					<h2>メニュー</h2>
					<ul>
						<li><a href="https://swiftbg.github.io/swiftbook/">ホーム</a></li>
						<li><a href="/swiftbook/sample/">サンプルアプリ</a></li>
						<li><a href="/swiftbook/advanced/">応用編テキスト</a></li>
						<li><a href="/swiftbook/about/">本書のご紹介</a></li>
						<li><a href="/swiftbook/release/">アプリの公開</a></li>
						<li><a href="/swiftbook/simulator/">シミュレータ</a></li>
						<li><a href="/swiftbook/tips/ios10ats.html">iOS10でのATS設定</a></li>
						<li><a href="/swiftbook/profile/swift-beginners.html">Swiftビギナーズ倶楽部</a></li>
						<li><a href="/swiftbook/profile/swift-beginners.html">Swiftビギナーズ倶楽部</a></li>
					</ul>
				</nav>
						
			<!-- Main -->
				<div id="main">
					<div class="inner">
						<h1>お菓子検索アプリ：iOS10でのATS設定について</h1>
						<div class="ninja_onebutton">
							<script type="text/javascript">
							//<![CDATA[
							(function(d){
							if(typeof(window.NINJA_CO_JP_ONETAG_BUTTON_9059b1ff87df176a12dfdbc837592d6c)=='undefined'){
									document.write("<sc"+"ript type='text\/javascript' src='\/\/omt.shinobi.jp\/b\/9059b1ff87df176a12dfdbc837592d6c'><\/sc"+"ript>");
							}else{
									window.NINJA_CO_JP_ONETAG_BUTTON_9059b1ff87df176a12dfdbc837592d6c.ONETAGButton_Load();}
							})(document);
							//]]>
							</script><span class="ninja_onebutton_hidden" style="display:none;"></span><span style="display:none;" class="ninja_onebutton_hidden"></span>
						</div>
						
						<h2>アプリ申請時はATS設定に注意</h2>
						<p>本書では、ATS機能を無効化することで、httpサイトへの通信を可能にしました。シミュレータなどの開発環境では問題なく通信ができます。ですが、アプリ申請時の際には、注意が必要です。</p>
						<p>iOS10でのアプリ申請時には、より厳密に設定を行なう必要があります。ATS機能を有効化して、基本はhttpsでの通信とします。そして、httpで通信したいドメインのみ個別で登録します。</p>
						
						<h2>ATS（App Transport Security）の設定を変更</h2>
						<h3>ATS機能が無効化されているので、有効にします</h3>
						
						<p>◎「Allow Arbitrary Loads」の削除<br><img src="./images/ios10ats_00001.png" alt="「Allow Arbitrary Loads」が「YES」となっています。このキーを削除"></p>
						<p>既に設定済みの場合は、「Allow Arbitrary Loads」が「YES」となっています。このキーを削除するとデフォルト値（NO）となり、ATS機能が有効になります。</p>
						<ul class="style-none">
							<li>&#9312;<img class="mn-icon" src="/swiftbook/iconimages/ProjectNavigator.png" alt="ProjectNavigator">［MyOkashi］プロジェクトを選択します。</li>
							<li>&#9313;<img class="mn-icon" src="/swiftbook/iconimages/projectAndTargetsListIcon.png" alt="projectAndTargetsListIcon">［project and targets list］ボタンをクリックして、［PROJECT］と［TARGETS］を表示します。</li>
							<li>&#9314;［TARGETS］で［MyOkashi］を選択します。</li>
							<li>&#9315;［Info］をクリックして、プロパティリストを表示します。</li>
							<li>&#9316;「Allow Arbitrary Loads」のマイナスボタンをクリックして、行を削除します。</li>
						</ul>

						<h3>http通信を行なうドメインを登録します</h3>
						
						<p>◎「App Transport Security Settings」へ追加<br><img src="./images/ios10ats_00002.png" alt="「App Transport Security Settings」へ追加"></p>
						<ul class="style-none">
							<li>&#9312;「App Transport Security Settings」の前の三角マークをクリックして、▼に変更します。</li>
							<li>&#9313;プラスマークをクリックして、新しくKeyを追加します。</li>
						</ul>
						<p>◎「Exception Domains」を入力<br><img src="./images/ios10ats_00003.png" alt="「Exception Domains」を選択"></p>
						<ul class="style-none">
							<li>&#9312;追加したKeyに「Exception Domains」と入力していきます。数文字を入力すると候補から選択できます。「Exception Domains」は、「例外のドメイン」示すKeyになります。</li>
						</ul>
						
						<p>◎例外のドメインを設定<br><img src="./images/ios10ats_00004.png" alt="例外のドメインを設定"></p>
						<ul class="style-none">
							<li>&#9312;「Exception Domains」の前の三角マークをクリックして、▼に変更します。</li>
							<li>&#9313;プラスマークをクリックして、新しくKeyを追加します。</li>
							<li>&#9314;追加したKeyに例外のドメインを設定します。「www.sysbird.jp」と入力します。お菓子検索アプリで、「http://www.sysbird.jp〜」ドメインへアクセスしてデータを取得していますので、ここで例外のドメインとして設定しています。</li>
						</ul>
						
						<p>◎［Type］（データ型）を「Dictionary」へ変更<br><img src="./images/ios10ats_00005.png" alt="［Type］（データ型）を「Dictionary」へ変更"></p>
						<ul class="style-none">
							<li>&#9312;「www.sysbird.jp」の［Type］（データ型）を「String」から「Dictionary」へ変更します。</li>
						</ul>
						
						<p>◎「www.sysbird.jp」へKeyを追加<br><img src="./images/ios10ats_00006.png" alt="「www.sysbird.jp」へKeyを追加"></p>
						<ul class="style-none">
							<li>&#9312;「www.sysbird.jp」の前の三角マークをクリックして、▼に変更します。</li>
							<li>&#9313;プラスマークをクリックして、新しくKeyを追加します。</li>
							<li>&#9314;追加したKeyに「NSTemporaryExceptionAllowsInsecureHTTPLoads」と入力していきます。これは入力候補が表示されないため、正確に入力していきます。「NSTemporaryExceptionAllowsInsecureHTTPLoads」は、「一時的な例外として、安全ではないHTTPロードを許可します」という意味のKeyです。</li>
						</ul>
						
						<p>◎［Type］と［Value］の設定<br><img src="./images/ios10ats_00007.png" alt="［Type］と［Value］の設定"></p>
						<ul class="style-none">
							<li>&#9312;追加したKey「NSTemporaryExceptionAllowsInsecureHTTPLoads」の［Type］を「Boolean」に変更します。</li>
							<li>&#9313;そして、［Value］（値）を「YES」にします。これで、「www.sysbird.jp」ドメインがhttpでも通信できるようになりました。</li>
						</ul>
						
						<p>以上で、プロパティリストの設定が完了しました。</p>
						
						<h2>シミュレータと実機で動作を確認します</h2>
						<p>◎シミュレータと実機での動作確認<br><img src="./images/ios10ats_00008.png" alt="シミュレータと実機での動作確認"></p>
						<p>シミュレータを起動して、お菓子の検索を行いデータが取得されているのを確認します。また、一覧のお菓子をタップして、お菓子紹介のWebページが表示されることも確認します。</p>
						
						<h5>参考ページ</h5>
						<p><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html" rel="nofollow">Cocoa Keys | Describes the keys for a bundle's Info.plist file. | Apple Developer</a></p>
						<hr>
						<div class="booklink-box" style="text-align:left;padding-bottom:20px;font-size:small;/zoom: 1;overflow: hidden;"><div class="booklink-image" style="float:left;margin:0 15px 10px 0;"><a href="http://www.amazon.co.jp/exec/obidos/asin/4797387149/officialsiteswift-22/" target="_blank" rel="nofollow" ><img src="https://images-fe.ssl-images-amazon.com/images/I/51tP8W6KckL.jpg" style="border: none;" /></a></div><div class="booklink-info" style="line-height:120%;/zoom: 1;overflow: hidden;"><div class="booklink-name" style="margin-bottom:10px;line-height:120%"><a href="http://www.amazon.co.jp/exec/obidos/asin/4797387149/officialsiteswift-22/" target="_blank" rel="nofollow" >これからつくる iPhoneアプリ開発入門 ~Swiftではじめるプログラミングの第一歩~</a><div class="booklink-powered-date" style="font-size:8pt;margin-top:5px;font-family:verdana;line-height:120%">posted with <a href="http://yomereba.com" rel="nofollow" target="_blank">ヨメレバ</a></div></div><div class="booklink-detail" style="margin-bottom:5px;">藤 治仁,徳弘 佑衣,小林 加奈子,小林 由憲 SBクリエイティブ 2016-10-26    </div><div class="booklink-link2" style="margin-top:10px;"><div class="shoplinkamazon" style="margin:5px 0"><a href="http://www.amazon.co.jp/exec/obidos/asin/4797387149/officialsiteswift-22/" target="_blank" rel="nofollow" >Amazonで探す</a></div><div class="shoplinkkindle" style="margin:5px 0"><a href="http://www.amazon.co.jp/gp/search?keywords=%82%B1%82%EA%82%A9%82%E7%82%C2%82%AD%82%E9%20iPhone%83A%83v%83%8A%8AJ%94%AD%93%FC%96%E5%20~Swift%82%C5%82%CD%82%B6%82%DF%82%E9%83v%83%8D%83O%83%89%83~%83%93%83O%82%CC%91%E6%88%EA%95%E0~&__mk_ja_JP=%83J%83%5E%83J%83i&url=node%3D2275256051&tag=officialsiteswift-22" target="_blank" rel="nofollow" >Kindleで探す</a></div><div class="shoplinkrakuten" style="margin:5px 0"><a href="http://c.af.moshimo.com/af/c/click?a_id=640352&p_id=56&pc_id=56&pl_id=637&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F14462591%2F" target="_blank" rel="nofollow" >楽天ブックスで探す</a><img src="http://i.af.moshimo.com/af/i/impression?a_id=640352&p_id=56&pc_id=56&pl_id=637" width="1" height="1" style="border:none;"></div>                         	   	  	  	</div></div><div class="booklink-footer" style="clear: left"></div></div>
					</div>
				</div>

			<!-- Footer -->
				<footer id="footer">
					<div class="inner">
						<section>
							<p class="small">本サイトは「これからつくる iPhoneアプリ開発入門 Swiftではじめるプログラミングの第一歩」著者によって運営されています。ソフトバンククリエイティブ株式会社とは一切関係ありません。本サイトに関するお問合せ等は<a href="https://swiftbg.github.io/swiftbook/contact/">お問い合わせ</a>よりお寄せください。</p>
						</section>
						<section>
							<h4>Let's follow</h4>
							<ul class="icons">
								<li><a href="https://twitter.com/swift_bg" class="icon style2 fa-twitter"><span class="label">Twitter</span></a></li>
								<li><a href="https://www.facebook.com/swiftbgbook/" class="icon style2 fa-facebook"><span class="label">Facebook</span></a></li>
								<li><a href="https://www.youtube.com/channel/UCAQaq0Qv50IBZI5HrlHPpCA" class="icon style2 fa-youtube"><span class="label">YouTube</span></a></li>
								<li><a href="https://github.com/swiftbg/swiftbook" class="icon style2 fa-github"><span class="label">GitHub</span></a></li>
							</ul>
						</section>
						<ul class="copyright">
							<li>&copy; Untitled. All rights reserved</li>
							<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
							<li>Planning,Contents: <a href="https://twitter.com/From_F">藤 治仁</a>,<a href="http://ticklecode.com/">TickleCode</a></li>
						</ul>
					</div>
				</footer>

		</div>

	<!-- Scripts -->
		<script src="/swiftbook/assets/js/jquery.min.js"></script>
		<script src="/swiftbook/assets/js/skel.min.js"></script>
		<script src="/swiftbook/assets/js/util.js"></script>
		<!--[if lte IE 8]><script src="/swiftbook/assets/js/ie/respond.min.js"></script><![endif]-->
		<script src="/swiftbook/assets/js/main.js"></script>
		<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-85621809-1', 'auto');ga('send', 'pageview');</script> 
	</body>
</html>